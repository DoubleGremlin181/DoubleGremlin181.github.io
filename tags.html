---
layout: page
title: Tags
---
<section class="list">
    <h1 class="title">Tags</h1>

    {% comment %}
    Sort tags by frequency using Jekyll's sort filter
    We'll create a simple array and sort by size
    {% endcomment %}
    {% assign sorted_tags = site.tags | sort %}
    {% assign tags_by_frequency = '' | split: '' %}
    
    {% comment %}
    Build array with tag names and counts, then sort manually
    {% endcomment %}
    {% for tag in site.tags %}
        {% assign tag_size = tag[1].size %}
        {% if tag_size >= 10 %}
            {% assign prefix = tag_size %}
        {% else %}
            {% assign prefix = '0' | append: tag_size %}
        {% endif %}
        {% assign tag_entry = prefix | append: '|' | append: tag[0] %}
        {% assign tags_by_frequency = tags_by_frequency | push: tag_entry %}
    {% endfor %}
    
    {% assign tags_by_frequency = tags_by_frequency | sort | reverse %}

    {% comment %}
    Display sorted tags with post counts
    {% endcomment %}
    {% for tag_entry in tags_by_frequency %}
        {% assign tag_parts = tag_entry | split: '|' %}
        {% assign tag_count = tag_parts[0] | plus: 0 %}
        {% assign tag_name = tag_parts[1] %}
        <a class="item" href="#{{ tag_name | slugify }}">{{ tag_name }} ({{ tag_count }})</a>
    {% endfor %}
</section>

<hr>

<section class="tag-list">
    {% comment %}
    Display tag sections in the same sorted order
    {% endcomment %}
    {% for tag_entry in tags_by_frequency %}
        {% assign tag_parts = tag_entry | split: '|' %}
        {% assign tag_name = tag_parts[1] %}
        
        <h2 class="title" id="{{ tag_name | slugify }}">#{{ tag_name }}</h2>

        <ul class="list">
            {% for post in site.tags[tag_name] reversed %}
                {% if post.title != null %}
                    <li class="item">
                        <a class="url" href="{{ site.url }}{{ post.url }}">
                            <aside class="date"><time datetime="{{ post.date | date:"%d-%m-%Y" }}">{{ post.date | date: "%b %d %Y" }}</time></aside>
                            <h3 class="title">{{ post.title }}</h3>
                        </a>
                    </li>
                {% endif %}
            {% endfor %}
        </ul>

        <div class="breaker"></div>
    {% endfor %}
</section>